<!DOCTYPE html>
<html>
<head>
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="description" content="Kevin Edington's personal Website, Blog, Portfolio.">
    <title>Kevin Edington</title>

    <!-- Font Awesome Icons -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css">
    <link rel="icon" type="image/png" href="img/icon7.png">
    <link rel="stylesheet" href="styles.css">
    
     <!-- JQuery --> 
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/1.5.1/jquery.min.js"></script>
    <script>
        $(document).ready(function() {
            $("#scroll").click(function() {
                $('html, body').animate({
                    scrollTop: $("#game").offset().top
                }, 1000);
            });
        });
    </script>

</head>
<body>
    <div class="background" id="beach_pic">
        <div id="positionMe">
            <a href="index.html"><h1>Kevin Edington</h1></a>
            <a href="https://en.wikipedia.org/wiki/Software_engineer"><h2 id="prof_title">Software Engineer</h2></a>
            <p id="about_me">I am cool and i do <a href="#" id="scroll">cool stuff</a></p>
        </div>
        <div id="social-links">
            <nav>
                <a href="https://www.linkedin.com/in/kevin-edington/"><i class="fa fa-linkedin"></i></a>
                <a href="https://github.com/Kedington"><i class="fa fa-github"></i></a>
                <a href="https://www.facebook.com/kevin.edington.7"><i class="fa fa-facebook"></i></a>
                <a href="https://www.instagram.com/kevin_edington/"><i class="fa fa-instagram"></i></a>
            </nav>
        </div>
    </div>
    <div id="game" class="background">
        <h1>Kevin's Amazing Game!</h1>
        <canvas id="game_canvas" width="1050" height="600"></canvas>
        <script>
        const second = 1000;
        
        var canvas;
        var canvasContext;

        var posX = 0;
        var posY = 30;
        var changeX = 15;
        var changeY = 0;
        var objectWidth = 15;
        var objectHeight = 15;
        window.onload = function(){
            canvas = document.getElementById('game_canvas');
            canvasContext = canvas.getContext('2d');
            drawMaze();
            var fps = 15;
            setInterval(drawMovement, second/fps);
        }
        
        function drawMaze() {
             canvasContext.fillStyle = "black";
             canvasContext.fillRect(0,0,canvas.width, canvas.height);
             canvasContext.fillRect(0,0,canvas.width, 25);
             canvasContext.fillRect(0,100, canvas.width/2, 25)
             canvasContext.fillRect(canvas.width/2 + 100,100, canvas.width/2, 25)
        }
        
        function restart() {
            posX = 15;
            posY = 30;
            changeX = 15;
            changeY = 0;  
        }
        
        function drawMovement() {
            canvasContext.fillStyle = "white";
            canvasContext.fillRect(0,0,canvas.width, canvas.height);
            levelOne();
            canvasContext.fillStyle = "lightblue";
            canvasContext.fillRect(posX, posY, objectWidth, objectHeight);
            posX += changeX;
            posY += changeY
            if (posY >= canvas.height - 90 && posY <= canvas.height - 30) {
                if (posX > canvas.width) {
                    alert("You win");
                    restart();
                }
            }
            else if (posX < 15 || posX > canvas.width - 30 || posY < 15 || posY > canvas.height - 30) {
                restart();
            }
            canvasContext.fillStyle = "blue";
            canvasContext.fillRect(posX, posY, objectWidth, objectHeight);
        }
        
        function levelOne() {
            canvasContext.fillStyle = "lightgrey";
            canvasContext.fillRect(0,0, canvas.width, 15);
            canvasContext.fillRect(0,60, 15, canvas.height-60);
            canvasContext.fillRect(0, canvas.height-15, canvas.width, 15);
            canvasContext.fillRect(canvas.width-15, 0, 15, canvas.height-60);  
        }
        
        document.addEventListener('keydown', function(event) {
            if(event.keyCode == 37){
                changeX = -15;
                changeY = 0;
            }
            if(event.keyCode == 38){
                changeX = 0;
                changeY = -15;
            }
            if(event.keyCode == 39){
                changeX = 15;
                changeY = 0;
            }
            if(event.keyCode == 40){
                changeX = 0;
                changeY = 15;
            }   
        });                         
    </script>
    </div>  
</body>
</html>
